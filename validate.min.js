var Validate=function(e){var t={type:"all",group:"",required:!0,warn:!0,lang:{},descriptions:!0,animations:!0,color:"red",align:"right",realTime:!0,debug:!1},a={letters:/^[a-zA-Z]+$/,lettersSpaces:/^[A-Za-z ]+$/,numbers:/^[0-9]+$/,lettersNumbers:/^[a-zA-Z0-9]+$/,passwd:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#._\-\$%\^&\*])(?=.{1,})/,ip:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,url:/^(https?:\/\/)+((([a-z\d]([a-z\d-]*[a-z\d])*)\.)+[a-z]{2,}|((\d{1,3}\.){3}\d{1,3}))(\:\d+)?(\/[-a-z\d%_.~+]*)*(\?[;&a-z\d%_.~+=-]*)?(\#[-a-z\d_]*)?$/},r={min:function(e,t,a){return!a||e.value.length>=t},max:function(e,t,a){return!a||e.value.length<=t},email:function(e,t,r){if("email"===i.nodeName||r){var n=e.value,o=n.lastIndexOf("@"),s=n.lastIndexOf(".");return o>0&&s>o+1&&n.length>s+2&&a.letters.test(n.substr(s+1,n.length-1))}return!0},pattern:function(e,t,a){return!a||RegExp(t).test(e.value)},checkbox:function(e){return"checkbox"!==i.nodeName||x(e)},radio:function(e){return"radio"!==i.nodeName||x(e)},decimal:function(e,t,a){return!a||Number(t?e.value.replaceAll(t,"."):e.value)},maxDecimal:function(e,t,a){return!a||e.value.split(e.dataset.decimal||".").length==t},default:function(e){return!!e.value[0]}},n={alphabetic:function(e){return a.lettersSpaces.test(e.key)||l.includes(e.key.toLowerCase())},numeric:function(e){return a.numbers.test(e.key)||l.includes(e.key.toLowerCase())},alphanumeric:function(e){return a.lettersNumbers.test(e.key)||l.includes(e.key.toLowerCase())}},o={},s={min:"La longitud de caracteres mínima para este campo es de: ~",max:"La longitud de caracteres máxima para este campo es de: ~",numbers:"Este campo solo permite números",decimal:"Este campo solo permite decimales",maxDecimal:"Este campo sólo permite ~ decimales",letters:"Este campo solo permite letras (sin espacios)",lettersSpaces:"Este campo solo permite letras",lettersNumbers:"Este campo permite letras y números (sin espacios)",text:"Este campo es requerido y no puede estar vacío",password:"Este campo es requerido y no puede estar vacío",passwd:"Al menos una letra mayúscula <br> - Al menos una letra minúscula <br> - Al menos un carácter numérico <br> - Al menos un carácter especial (!@#._-$%^&*)","select-one":"Debe seleccionar alguna opción de la lista","select-multiple":"Debe seleccionar al menos una opción de la lista",email:"Debe ser un email válido",textarea:"Este campo es requerido y no puede estar vacío",hidden:"Este campo es requerido y no puede estar vacío",checkbox:"Este campo es requerido y no puede estar vacío",radio:"Este campo es requerido y no puede estar vacío",file:"Debe agregar al menos un archivo",ip:"Esto no es una dirección ip valida",url:"Esto no es una url correcta. <br> - ej: https://google.com",pattern:"Esto no cumple con el patrón especificado: "},i=this,c={warn:"validate-warn",description:"validate-warn-description",styles:"validate-styles",target:"input,select,textarea"},l=["tab","backspace","delete","enter","home","end","pageup","pagedown"],u="s2",d=500,p="validate.js",m="~";i.isSingle=!1;var g=function(e){try{if(t=Object.assign(t,e),console.log(t),"group"===t.type&&!Boolean(t.group))throw new Error("`options.group` es requerido cuando `options.type = group`");c.target="group"===t.type?"."+t.group:c.target,t.required&&(c.target=c.target.split(",").map(function(e){return e+"[required]"}).join(",")),y(t.lang),document.querySelector("#"+c.styles)||document.querySelector("head").insertAdjacentHTML("beforeend",'<style id="'+c.styles+'">.'+c.warn+" { border-color: "+t.color+" !important; } ."+c.description+" { color: "+t.color+" !important; font-size: 11px; font-family: Roboto, sans-serif; letter-spacing: 1px; float: "+t.align+"; }</style>"),t.realTime&&"keyup,change".split(",").forEach(function(e){document.body.addEventListener(e,function(e){var a=!t.required||e.target.required,r="group"===t.type?e.target.classList.contains(t.group):c.target.includes(e.target.nodeName.toLowerCase());console.log(a),a&&r&&(i.isSingle=!0,E(e.target))})})}catch(e){t.debug&&console.error("["+p+"]: Excepción construyendo instancia con las opciones suministradas:",t,e.message)}},f=function(){var e=!0;i.isSingle=!1;try{document.querySelectorAll(c.target).forEach(function(t){E(t)||(e=!1)})}catch(e){t.debug&&console.error("["+p+"]: Excepción validando con el target especificado:",c.target,"e:",e.message)}return e},y=function(e){"object"!=typeof e&&t.debug&&console.error("["+p+"]: options.lang debe ser JSON:",e),t.lang=Object.assign(s,t.lang)},b=function(e,a){if(t.warn&&a){if((w(e,u)?e.nextSibling.firstChild.firstChild:e).classList.add(c.warn),t.animations&&!i.isSingle){var r=parseInt(e.style.marginLeft||"0px");(w(e,u)?e.nextSibling:e).animate([{marginLeft:r-10+"px"},{marginLeft:r+10+"px"},{marginLeft:r-10+"px"},{marginLeft:r+10+"px"},{marginLeft:r+"px"}],{duration:d})}t.descriptions&&h(e)}},h=function(e){var a="",r=e.dataset||[];-1!=this.errors.indexOf("default")&&this.errors.splice(this.errors.indexOf("default"),1),this.errors.forEach(function(e){console.log(r[e.concat("Msg")]),message=r[e.concat("Msg")]||t.lang[e],detail=r[e]||"",a+=" - ".concat(message.replaceAll(m,detail)).concat("<br />")}),(w(e,u)?e.nextSibling:e).insertAdjacentHTML("afterend",'<span class="'.concat(c.description).concat('">').concat(a.length?a:" - ".concat(r.defaultMsg||t.lang[this.nodeName])).concat("</span>"))},v=function(e){try{var n=Object.keys(a).concat(Object.keys(r)).concat(Object.keys(o));if(w(e,"optional")&&!r.default(e))return!0;this.errors=n.filter(function(t){var n=w(e,t);return t in r?!r[t](e,e.dataset[t],n):t in a&&n?!a[t].test(e.value):!!n&&!o[t](e,e.dataset[t])})}catch(a){t.debug&&console.error("["+p+"]: Excepción validando campo: ",e," e: ",a.message)}return 0===this.errors.length},x=function(e){if(!e.name)throw new Error("Los campos ckeckbox y radio requieren el uso de la propiedad name para poder validar correctamente.");var t=document.querySelector(e.nodeName.toLowerCase()+"[type="+this.nodeName+"][name="+e.name+"]:checked");return i.isSingle&&t&&document.querySelectorAll(e.nodeName.toLowerCase()+"[type="+this.nodeName+"][name="+e.name+"]").forEach(function(e){L(e)}),t},E=function(e){this.nodeName=e.type;var t=v(e);return L(e),b(e,!t),t},L=function(e){(w(e,u)?e.nextSibling.firstChild.firstChild:e).classList.remove(c.warn),e=w(e,u)?e.nextSibling:e,e.nextSibling&&Array.prototype.slice.call(e.nextSibling.classList||"").includes(c.description)&&e.nextSibling.remove()},w=function(e,t){return Object.keys(e.dataset||"").includes(t)},S=function(e,t){t=void 0===t?"validate-"+e:t,document.body.addEventListener("keydown",function(a){a.target.classList.contains(t)&&!n[e](a)&&a.preventDefault()})},k=function(e,t,a){e in r?console.warn("["+p+"]: La regla "+e.toUpperCase()+" ya existe y no puede sobreescribirla"):Array.from(arguments).every(function(e){return!!e})?(o[e]=t,s[e]=a):console.warn("["+p+"]: Para añadir reglas personalizadas debe especificar: name, callback, message")};return g(e),{addLive:function(e,t){return S(e,t)},addRule:function(e,t,a){k(e,t,a)},itsOk:function(){return f()},reset:function(){document.querySelectorAll(c.target.replaceAll("[required]","")).forEach(function(e){e.classList.remove(c.warn)}),document.querySelectorAll("."+c.description).forEach(function(e){e.parentNode.removeChild(e)})}}};